<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Card.html">Card</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Card.html#calculateYPosition">calculateYPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Card.html#computeFonts">computeFonts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Card.html#computeGradients">computeGradients</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Card.html#computeLayers">computeLayers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Card.html#getLayerValue">getLayerValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Card.html#render">render</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CardKit.html">CardKit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#_configureOptions">_configureOptions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#_isValidConfiguration">_isValidConfiguration</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#_isValidLayoutsConfiguration">_isValidLayoutsConfiguration</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#_isValidRenderer">_isValidRenderer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#_isValidTemplatesConfiguration">_isValidTemplatesConfiguration</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#_isValidThemesConfiguration">_isValidThemesConfiguration</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#addRenderer">addRenderer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#computeConfiguration">computeConfiguration</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#getRenderers">getRenderers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKit.html#updateConfiguration">updateConfiguration</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CardKitDOM.html">CardKitDOM</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKitDOM.html#_isValidElement">_isValidElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKitDOM.html#download">download</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKitDOM.html#renderCard">renderCard</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKitDOM.html#renderUI">renderUI</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKitDOM.html#rerender">rerender</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CardKitServer.html">CardKitServer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKitServer.html#renderToImage">renderToImage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CardKitServer.html#renderToString">renderToString</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SVGToImage.html">SVGToImage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SVGToImage.html#_inlineImages">_inlineImages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SVGToImage.html#_isExternal">_isExternal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SVGToImage.html#_isValidElement">_isValidElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SVGToImage.html#_toDataURI">_toDataURI</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SVGToImage.html#download">download</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>CardKit</h1>
<blockquote>
<p>A simple, powerful and fully configurable image editor for web browers and servers. Optional UI included.</p>
</blockquote>
<p>CardKit has three main parts:</p>
<ul>
<li><a href="#cardkit"><code>CardKit</code></a>: The core library, that manages and maintains the configuration object which defines the structure and options of a card</li>
<li><a href="#cardkitdom"><code>CardKitDOM</code></a>: A DOM renderer, that takes an instance of CardKit and renders either a standalone image, or a pre-packaged UI for editing the image</li>
<li><a href="#cardkitserver"><code>CardKitServer</code></a>: A server renderer, that allows you to take an instance of CardKit and render it into an image on a Node.js server</li>
</ul>
<p>Additionally, a base class allows you to create your own renderers. See more in the <a href="#custom-renderers">Custom Renderers</a> section.</p>
<p><strong>For version 1, see the <a href="https://github.com/chrishutchinson/cardkit/tree/v1-master"><code>v1-master</code></a> branch</strong></p>
<h2>Installation</h2>
<p><code>$ npm install cardkit --save</code></p>
<h2>Usage</h2>
<p>CardKit requires a configuration object in order to render an image. Each renderer (CardKitDOM and CardKitServer) uses this configuration and converts it into an output. Below are simple implementations for CardKit depending on your use case.</p>
<p>In addition to these, you may also want to try the <a href="https://www.github.com/times/generator-cardkit">CardKit Yeoman Generator</a>, which can help you scaffold an entire project in just a few moments. It brings with it the latest version of CardKit, a recommended directory structure, and a build process that helps you get your CardKit project deployed. There is also a <a href="https://jsfiddle.net/chrishutchinson/16tLs2ta/">JSFiddle</a> that you can fork and edit for quick in-browser testing without touching the command line.</p>
<h4>Yeoman generator</h4>
<pre><code>$ npm install -g yo generator-cardkit
$ yo cardkit
</code></pre>
<h4>Browser with Webpack / Browserify usage</h4>
<pre class="prettyprint source lang-js"><code>// Load CardKit and CardKit DOM
const CardKit = require(&quot;cardkit&quot;);
const CardKitDOM = require(&quot;cardkit/dom&quot;);

// Base configuration object - see `./examples/configurations` for examples
var configuration = {};

// Optional themes object - see `./examples/configurations` for examples
var themes = {};

// Optional layouts object - see `./examples/configurations` for examples
var layouts = {};

// Initialise CardKit
var cardkit = new CardKit(configuration, {
  themes: themes,
  layouts: layouts,
});

// Initialise Renderer
var renderer = new CardKitDOM(cardkit);

// To render the card only (with optional theme / layout overrides)
renderer.renderCard(&quot;card&quot;, {
  theme: &quot;Alt&quot;,
  layout: &quot;Square&quot;,
});

// OR To render the editing UI
renderer.renderUI(&quot;card&quot;);
</code></pre>
<h4>Browser with <code>&lt;script&gt;</code> tag usage</h4>
<pre class="prettyprint source lang-html"><code>&lt;!-- Load in React from a CDN (or similar) -->
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react.min.js&quot;>&lt;/script>
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react-dom.min.js&quot;>&lt;/script>

&lt;!-- Load in the CardKit and CardKitDOM Libraries -->
&lt;script
  type=&quot;text/javascript&quot;
  src=&quot;https://cdn.rawgit.com/chrishutchinson/cardkit/v2.0.6/dist/cardkit.js&quot;
>&lt;/script>
&lt;script
  type=&quot;text/javascript&quot;
  src=&quot;https://cdn.rawgit.com/chrishutchinson/cardkit/v2.0.6/dist/dom.js&quot;
>&lt;/script>

&lt;!-- Your container element to render into -->
&lt;div id=&quot;card&quot;>&lt;/div>

&lt;script type=&quot;text/javascript&quot;>
  // Base configuration object - see `./examples/configurations` for examples
  var configuration = {};

  // Optional themes object - see `./examples/configurations` for examples
  var themes = {};

  // Optional layouts object - see `./examples/configurations` for examples
  var layouts = {};

  // Initialise CardKit
  var cardkit = new CardKit(configuration, {
    themes: themes,
    layouts: layouts,
  });

  // Initialise Renderer
  var renderer = new CardKitDOM(cardkit);

  // To render the card only (with optional theme / layout overrides)
  renderer.renderCard(&quot;card&quot;, {
    theme: &quot;Alt&quot;,
    layout: &quot;Square&quot;,
  });

  // OR To render the editing UI
  renderer.renderUI(&quot;card&quot;);
&lt;/script>
</code></pre>
<h4>Server usage</h4>
<pre class="prettyprint source lang-js"><code>// Require CardKit and CardKitServer
const CardKit = require(&quot;cardkit&quot;);
const CardKitServer = require(&quot;cardkit/server&quot;);

// Base configuration object - see `./examples/configurations` for examples
const configuration = {};

// Initialise CardKit
const cardkit = new CardKit(configuration);

// Initialise Renderer
var renderer = new CardKitServer(cardkit);

// Render to image
renderer
  .renderToImage(2)
  .then((image) => {
    // Do what you want with the image here...
    console.log('&lt;img src=&quot;data:image/png;base64,' + image + '&quot; />');
    process.exit();
  })
  .catch((e) => {
    console.log(&quot;[ERR]&quot;, e);
    process.exit();
  });
</code></pre>
<h2>APIs</h2>
<h3>CardKit</h3>
<h4><code>new CardKit(configuration, options)</code></h4>
<blockquote>
<p>Initialisation. Pass in a required configuration object, and optional themes, templates and layouts</p>
</blockquote>
<h4><code>cardkit.updateConfiguration(configuration, options, rerender)</code></h4>
<blockquote>
<p>Updates the configuration in your instance of CardKit. Can optionally rerender with a flag if previously rendered (supported in CardKitDOM).</p>
</blockquote>
<h4><code>cardkit.computeConfiguration(options)</code></h4>
<blockquote>
<p>Computes a configuaration object, optionally accepting a named template, theme and layout. These get merged into the base configuration and returned.</p>
</blockquote>
<h3>CardKitDOM</h3>
<h4><code>new CardKitDOM(cardkit)</code></h4>
<blockquote>
<p>Accepts an instance of CardKit and initialises the renderer</p>
</blockquote>
<h4><code>cardkit.renderUI(id, overrides)</code></h4>
<blockquote>
<p>Renders the include user interface to the specified DOM element</p>
</blockquote>
<h4><code>cardkit.renderCard(id)</code></h4>
<blockquote>
<p>Renders just the card in it's SVG form to the specified DOM element</p>
</blockquote>
<h4><code>cardkit.rerender()</code></h4>
<blockquote>
<p>Will re-render the existing UI or card</p>
</blockquote>
<h4><code>cardkit.download(scale, element)</code></h4>
<blockquote>
<p>Downloads the image to your local machine. Accepts a scale (default=2), and an element to grab from. If not provided it will fall back to the existing card being rendererd (if <code>renderCard()</code> was used).</p>
</blockquote>
<h3>CardKitServer</h3>
<h4><code>new CardKitDOM(cardkit)</code></h4>
<blockquote>
<p>Accepts an instance of CardKit and initialises the renderer</p>
</blockquote>
<h4><code>cardkit.renderToString()</code></h4>
<blockquote>
<p>Renders the card to a HTML string (e.g. <code>&lt;svg...&gt;&lt;/svg&gt;</code>)</p>
</blockquote>
<h4><code>cardkit.renderToImage(scale)</code></h4>
<blockquote>
<p>Renders the card to an image returning a Promise containing the image as a base64 string</p>
</blockquote>
<h2>Custom Renderers</h2>
<p>A base class <code>CardKitRenderer</code> allows you to create your own renderer for CardKit. For example, CardKitDOM currently uses SVG to create the card, and React to render the UI. You may, however, wish to render your card using HTML canvas, or build a UI using Vue.js. Creating a custom renderer is a good way to achieve this. Below is a brief example of how you might achieve this:</p>
<pre class="prettyprint source lang-js"><code>class CardKitCanvas extends CardKitRenderer {
  renderCard() {
    // Canvas-specific code here
  }

  rerender() {
    // A method that `CardKit` calls if the base configuration object is updated
    // Handle an update to the base configuration, e.g. you may want to re-render the canvas element here
  }

  yourCustomMethod() {
    // You can implement any custom methods here, for example you may wish to expose or manipulate the &lt;canvas> element for other users to take advantage of
  }
}

const cardkit = new CardKit(configuration);

const renderer = new CardKitCanvas(cardkit);

renderer.yourCustomMethod();
</code></pre>
<h2>Custom Fonts</h2>
<p>CardKit allows you to load in custom fonts for use on your cards, see the Wiki for details. These need to be encoded into base64 format.</p>
<p><em>If you wish to use a Google font, you can use the <a href="https://www.npmjs.com/package/googlefontcss64">googlefontcss64</a> library to generate a base64 version of any Google font. You can use <a href="https://gist.github.com/chrishutchinson/4a9f7bffddfec376e9d71e8666d5955d">this</a> Node.js script to get all the details you need.</em></p>
<p>Once you have the base64 encoded version of your font, you can register it in your configuration object, like so:</p>
<pre class="prettyprint source lang-js"><code>var configuration = {
  // ...
  fonts: {
    MyCustomFontName: base64encodedFont,
  },
  layers: {
    text: {
      fontFamily: &quot;MyCustomFontName&quot;,
    },
  },
  // ...
};
</code></pre>
<p>If you need to provide a specific format for your font, you can do the following:</p>
<pre class="prettyprint source lang-js"><code>var configuration = {
  // ...
  fonts: {
    MyCustomFontName: {
      src: base64encodedFont,
      format: &quot;woff&quot;,
    },
  },
  layers: {
    text: {
      fontFamily: &quot;MyCustomFontName&quot;,
    },
  },
  // ...
};
</code></pre>
<h2>Upgrading from v1.x</h2>
<p>Upgrading from v1.x to v2 should be a fairly straightforward process if you haven't made any major modifications to the v1.x user interface. Your configuration object from v1.x should be compatible with v2 with a few minor tweaks. Specific variations are available in the Wiki.</p>
<h2>Running locally</h2>
<p>CardKit currently requires Node.js 8, which you can install using <code>nvm</code> and running:</p>
<pre><code>$ nvm use
</code></pre>
<p>To run a sample UI locally, run: <code>$ npm start</code></p>
<p>You can optionally pass a port like so: <code>$ npm start -- --port=8080</code></p>
<h2>Tests</h2>
<p>To trigger the test suite, run <code>$ npm run test</code></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Mon May 03 2021 18:01:46 GMT+0100 (British Summer Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>